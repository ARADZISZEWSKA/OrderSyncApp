<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ProjektMaui.Views.OrdersListPage"
             Title="ZamÃ³wienia">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">

            <!-- ðŸ“… Filtr dat -->
            <HorizontalStackLayout Spacing="10">

                <VerticalStackLayout>
                    <Label Text="Od:" />
                    <DatePicker x:Name="FromDatePicker" />
                </VerticalStackLayout>

                <VerticalStackLayout>
                    <Label Text="Do:" />
                    <DatePicker x:Name="ToDatePicker" />
                </VerticalStackLayout>

                <VerticalStackLayout>
                    <Label Text="Status:" />
                    <Picker x:Name="StatusPicker" />
                </VerticalStackLayout>

                <Button Text="Filtruj"
            Clicked="OnFilterClicked"
            BackgroundColor="#0077b6"
            TextColor="White"
            CornerRadius="10"
            Padding="10,5"/>
            </HorizontalStackLayout>


            <!-- ðŸ“‹ Lista zamÃ³wieÅ„ -->
            <CollectionView x:Name="OrdersCollectionView">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BorderColor="Gray"
                           BackgroundColor="#f9f9f9"
                           CornerRadius="10"
                           Padding="15"
                           Margin="5"
                           HasShadow="True">
                            <VerticalStackLayout Spacing="5">
                                <Label Text="{Binding Product.Name}"
                                   FontAttributes="Bold"
                                   FontSize="18" />
                                <Label Text="Uwagi:" FontAttributes="Bold" />
                                <Label Text="{Binding Notes}" />

                                <Label Text="UÅ¼ytkownik:" FontAttributes="Bold" />
                                <Label Text="{Binding User.FirstName}" />

                                <Label Text="Status:" FontAttributes="Bold" />
                                <Label Text="{Binding Status}" />

                                <Label Text="{Binding CreatedAt}" FontSize="12" TextColor="Gray" />

                                <Button Text="ZmieÅ„ status"
                                    Clicked="OnChangeStatusClicked"
                                    CommandParameter="{Binding Id}"
                                    BackgroundColor="#0077b6"
                                    TextColor="White"
                                    CornerRadius="5"
                                    Padding="10,5" />
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <!-- ðŸ“¤ Eksport CSV -->
            <Button 
            Text="Eksportuj do CSV"
            Clicked="OnExportClicked"
            BackgroundColor="#0077b6"
            TextColor="White"
            CornerRadius="10"
            Padding="15,10"
            Margin="0,20,0,20"/>

        </VerticalStackLayout>
    </ScrollView>


</ContentPage>
